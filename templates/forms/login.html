<!-- templates/forms/login.html -->
{% extends 'layouts/form.html' %}

{% block title %}Login{% endblock %}

{% block content %}
  <h2 class="text-center">Login</h2>

  <!-- Sign in with Google button -->
  <div class="google-signin mb-4">
    <a href="{{ url_for('google_login_route') }}" class="btn btn-danger btn-lg btn-block">
      <i class="fa fa-google"></i> Sign in with Google
    </a>
  </div>

  <!-- Or login with username and password -->
  <div class="or-separator text-center mb-4">
    <span>OR</span>
  </div>

  <!-- Login Form -->
  <form method="POST" action="{{ url_for('login') }}">
    {{ form.hidden_tag() }}

    <div class="form-group">
      {{ form.username.label(class="form-label") }}
      {{ form.username(class="form-control", placeholder="Enter username") }}
      {% for error in form.username.errors %}
        <span class="text-danger">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.password.label(class="form-label") }}
      {{ form.password(class="form-control", placeholder="Enter password") }}
      {% for error in form.password.errors %}
        <span class="text-danger">{{ error }}</span>
      {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary btn-lg btn-block">{{ form.submit.label.text }}</button>
  </form>

  <!-- Optional: Link to registration page if users don't have an account -->
  <p class="mt-3 text-center">
    Don't have an account? <a href="{{ url_for('register') }}">Register here</a>.
  </p>
{% endblock %}
